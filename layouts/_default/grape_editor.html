{{ define "main"}}

<link rel="stylesheet" href="https://unpkg.com/grapesjs@0.22.4/dist/css/grapes.min.css">
<link href="https://unpkg.com/grapesjs-project-manager@2.0.5/dist/grapesjs-project-manager.min.css" rel="stylesheet">
<!-- <link rel="stylesheet" href='{{ "assets/styles.css" | relURL }}' /> -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Agu+Display&display=swap" rel="stylesheet">

<script src="https://unpkg.com/grapesjs@0.22.4/dist/grapes.min.js"></script>
<script src="https://unpkg.com/grapesjs-preset-webpage@1.0.2"></script>
<script src="https://unpkg.com/grapesjs-blocks-basic@1.0.1"></script>
<script src="https://unpkg.com/grapesjs-plugin-forms@2.0.5"></script>
<script src="https://unpkg.com/grapesjs-component-countdown@1.0.1"></script>
<script src="https://unpkg.com/grapesjs-plugin-export@1.0.11"></script>
<script src="https://unpkg.com/grapesjs-tabs@1.0.6"></script>
<script src="https://unpkg.com/grapesjs-custom-code@1.0.1"></script>
<script src="https://unpkg.com/grapesjs-touch@0.1.1"></script>
<script src="https://unpkg.com/grapesjs-parser-postcss@1.0.1"></script>
<script src="https://unpkg.com/grapesjs-tooltip@0.1.7"></script>
<script src="https://unpkg.com/grapesjs-tui-image-editor@0.1.3"></script>
<script src="https://unpkg.com/grapesjs-typed@1.0.5"></script>
<script src="https://unpkg.com/grapesjs-style-bg@2.0.1"></script>
<script src="https://unpkg.com/grapesjs-tailwind"></script>
<script src="https://unpkg.com/grapesjs-project-manager"></script>

<div id="gjs"></div>

<script type="text/javascript">
	var escapeName = (name) => `${name}`.trim().replace(/([^a-z0-9\w-:/]+)/gi, '-');
	var editor = grapesjs.init({
		container: '#gjs',
		selectorManager: { escapeName },
		pageManager: true,
		StorageManager: {
			type: 'indexddb',
		},
		styleManager: {
			sectors: [
				{
					name: 'Typography',
					properties: [
						{
							name: 'Font family',
							property: 'font-family',
							type: 'select',
							defaults: 'Arial, sans-serif',
							list: [
								{ value: 'Arial, sans-serif', name: 'Arial' },
								{ value: 'Agu Display, sans-serif', name: 'Agu Display' },
								{ value: 'Roboto, sans-serif', name: 'Roboto'},
								{ value: 'Arial Black, sans-serif', name: 'Arial Black' },
								{ value: 'Brush Script MT, sans-serif', name: 'Brush Script MT' },
								{ value: 'Comic Sans MS, sans-serif', name: 'Comic Sans MS' },
								{ value: 'Courier New, sans-serif', name: 'Courier New' },
								{ value: 'Georgia, sans-serif', name: 'Georgia' },
								{ value: 'Helvetica, sans-serif', name: 'Helvetica' },
								{ value: 'Impact, sans-serif', name: 'Impact' },
								{ value: 'Lucida Sans Unicode, sans-serif', name: 'Lucida Sans Unicode' },
								{ value: 'Tahoma, sans-serif', name: 'Tahoma' },
								{ value: 'Times New Roman, sans-serif', name: 'Times New Roman' },
								{ value: 'Trebuchet MS, sans-serif', name: 'Trebuchet MS' },
								{ value: 'Verdana, sans-serif', name: 'Verdana' },
							]

						}
					]
				}
			]
		},
		plugins: [
			'gjs-blocks-basic',
			'grapesjs-plugin-forms',
			'grapesjs-component-countdown',
			'grapesjs-plugin-export',
			'grapesjs-tabs',
			'grapesjs-custom-code',
			'grapesjs-touch',
			'grapesjs-parser-postcss',
			'grapesjs-tooltip',
			'grapesjs-tui-image-editor',
			'grapesjs-typed',
			'grapesjs-style-bg',
			'grapesjs-preset-webpage',
			'grapesjs-tailwind',
			'grapesjs-project-manager',
			'Download',
		],
		pluginsOpts: {
			'grapesjs-preset-webpage': {},
		},

		// 		components: `
		// <body id="iau9"
		//   class="product-template-default single single-product postid-603 theme-marketingreports woocommerce woocommerce-page woocommerce-no-js">
		//   <div id="i4dnz" class="gjs-grid-row">
		//     <div id="if2dn" class="gjs-grid-column">
		//       <div id="idmhz" class="gjs-grid-row">
		//         <div id="iwjzg" class="gjs-grid-column">
		// 		  <img id="ithwj" src="http://localhost:1313/marketingreports/assets/images/dashboards/twitter.jpg" class="gjs-image-box gjs-link">
		//         </div>
		//         <div id="iru73" class="gjs-grid-column">
		//           <div id="iew0h">Twitter Ads Reporting Tool</div>
		//           <div id="i9vm7">Metrics: Spend, Tweet Engagements, Retweets, Follows, Likes, Link Clicks, Media Views,
		//             Impressions<br/><br/><br/></div>
		//           <div id="iohlo">Category: Twitter Ads</div>
		//         </div>
		//       </div>
		//     </div>
		//   </div>
		//   <div id="ihlhdw" class="gjs-grid-row">
		//     <div class="gjs-grid-column">
		//       <div id="iqztwg" class="gjs-grid-row">
		//         <div id="im6l6a" class="gjs-grid-column">
		//           <button type="submit" ="" id="itomw2" class="gjs-link">View Demo Dashboard</button></div>
		//       </div>
		//     </div>
		//   </div>
		//   <section class="gjs-section" id="i0jie">
		//     <div class="gjs-container" id="i2bjq">
		//       <h1 id="iqiw4">Description</h1>
		//       <div class="gjs-divider" id="iuxul"></div>
		//       <span id="i6g9m">Advertising on Twitter can help grow your audience, increase website traffic, and earn more sales. You can advertise your account to get new followers or boost individual tweets to get more visibility. To track key performance indicators of your Twitter ads you can use the Twitter ads reporting tool.</span>
		//       <div class="gjs-grid-row" id="iefdt">
		//         <div class="gjs-grid-column" id="i9ebj">
		//           <p id="ifb4k">Twitter Ads offer some more unique targeting features that cannot be found in the paid
		//             advertising of the other social media platforms.</p>
		//           <p id="i9oyd">Twitter is that social media platform with the highest focus on trending topics and what’s
		//             happening now. Its paid advertising offers the opportunity to benefit from these real-time aspects and
		//             acquire a qualified audience.</p>
		//           <div id="i1pcr">
		//             <p id="iwcxj">Having this in mind, with Twitter Ads you can expect quick interactions and higher engagement
		//               from Twitter users.</p>
		//             <p id="igp81">With no minimum spend required for Twitter Ads, you are in control of your budget and how you
		//               are spending it. There are several types of Twitter Ads ‌you can choose from based on your marketing
		//               goals.</p>
		//             <p id="iahuy">As with every other channel you use for executing your marketing activities, for Twitter Ads
		//               it’s also essential to have real time and accurate reporting. This is where Marketing Reports comes in to
		//               support your day-to-day monitoring and decrease the time you spend in reporting. </p>
		//             <p id="iz632">The Twitter Ads dashboard will provide you with easy to follow reports containing the most
		//               important metrics. This will support your decision making when it comes to optimizing your strategy and
		//               maximize the benefits of your Twitter Ads campaign.</p>
		//           </div>
		//         </div>
		//       </div>
		//     </div>
		//   </section>
		// </body>

		// </html>`,
		// 		style: `* {
		// 	box-sizing: border-box;
		// }

		// body {
		//   margin: 0;
		//   padding: 0;
		//   background-image: url("http://localhost:1313/marketingreports/assets/images/bg/form-bg.png");
		//   background-position: center; /* Center the image */
		//   background-attachment: fixed; /* Fix the image in place when scrolling */
		//   background-repeat: no-repeat; /* Prevent image from repeating */
		//   background-size: cover; /* Make sure the image covers the entire screen */
		//   height: 100vh; /* Ensure the body takes full height of the viewport */
		// }

		// .gjs-link {
		// 	vertical-align: top;
		// 	max-width: 100%;
		// 	display: inline-block;
		// 	text-decoration: none;
		// 	color: inherit;
		// 	transition: color 0.3s ease 0s;
		// }

		// #iau9 {
		// 	font-family: Arial, Helvetica, sans-serif;
		// 				background-position:0px 0px, 0px 0px;
		// 			background-size:auto auto, 100% 100%;
		// 			background-repeat:round, repeat;
		// 			background-attachment:fixed, scroll;
		// 			background-origin:border-box, padding-box;
		// 			color:#475569;
		// 			background-color:rgba(255, 0, 0, 1);
		// 	}

		// 	.gjs-grid-column.feature-item {
		// 		padding-top:15px;
		// 		padding-right:15px;
		// 		padding-bottom:15px;
		// 		padding-left:15px;
		// 		display:flex;
		// 		flex-direction:column;
		// 		gap:15px;
		// 		min-width:30%;
		// 	}

		// 	.gjs-grid-column.testimonial-item {
		// 		padding-top:15px;
		// 		padding-right:15px;
		// 		padding-bottom:15px;
		// 		padding-left:15px;
		// 		display:flex;
		// 		flex-direction:column;
		// 		gap:15px;
		// 		min-width:45%;
		// 		background-color:rgba(247, 247, 247, 0.23);
		// 		border-top-left-radius:5px;
		// 		border-top-right-radius:5px;
		// 		border-bottom-right-radius:5px;
		// 		border-bottom-left-radius:5px;
		// 		align-items:flex-start;
		// 		border-top-width:1px;
		// 		border-right-width:1px;
		// 		border-bottom-width:1px;
		// 		border-left-width:1px;
		// 		border-top-style:solid;
		// 		border-right-style:solid;
		// 		border-bottom-style:solid;
		// 		border-left-style:solid;
		// 		border-top-color:rgba(0, 0, 0, 0.06);
		// 		border-right-color:rgba(0, 0, 0, 0.06);
		// 		border-bottom-color:rgba(0, 0, 0, 0.06);
		// 		border-left-color:rgba(0, 0, 0, 0.06);
		// 	}

		// 	.gjs-link:hover {
		// 		color:rgb(36, 99, 235);
		// 		text-decoration:underline;
		// 	}

		// 	img.wp-smiley, img.emoji {
		// 		display:inline !important;
		// 		border:none !important;
		// 		box-shadow:none !important;
		// 		height:1em !important;
		// 		width:1em !important;
		// 		margin:0 0.07em !important;
		// 		vertical-align:-0.1em !important;
		// 		background:none !important;
		// 		padding:0 !important;
		// 	}

		// 	body {
		// 		--wp--preset--color--black:#000000;
		// 		--wp--preset--color--cyan-bluish-gray:#abb8c3;
		// 		--wp--preset--color--white:#ffffff;
		// 		--wp--preset--color--pale-pink:#f78da7;
		// 		--wp--preset--color--vivid-red:#cf2e2e;
		// 		--wp--preset--color--luminous-vivid-orange:#ff6900;
		// 		--wp--preset--color--luminous-vivid-amber:#fcb900;
		// 		--wp--preset--color--light-green-cyan:#7bdcb5;
		// 		--wp--preset--color--vivid-green-cyan:#00d084;
		// 		--wp--preset--color--pale-cyan-blue:#8ed1fc;
		// 		--wp--preset--color--vivid-cyan-blue:#0693e3;
		// 		--wp--preset--color--vivid-purple:#9b51e0;
		// 		--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple:linear-gradient(135deg, rgba(6, 147, 227, 1) 0%, rgb(155, 81, 224) 100%);
		// 		--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan:linear-gradient(135deg, rgb(122, 220, 180) 0%, rgb(0, 208, 130) 100%);
		// 		--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange:linear-gradient(135deg, rgba(252, 185, 0, 1) 0%, rgba(255, 105, 0, 1) 100%);
		// 		--wp--preset--gradient--luminous-vivid-orange-to-vivid-red:linear-gradient(135deg, rgba(255, 105, 0, 1) 0%, rgb(207, 46, 46) 100%);
		// 		--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray:linear-gradient(135deg, rgb(238, 238, 238) 0%, rgb(169, 184, 195) 100%);
		// 		--wp--preset--gradient--cool-to-warm-spectrum:linear-gradient(135deg, rgb(74, 234, 220) 0%, rgb(151, 120, 209) 20%, rgb(207, 42, 186) 40%, rgb(238, 44, 130) 60%, rgb(251, 105, 98) 80%, rgb(254, 248, 76) 100%);
		// 		--wp--preset--gradient--blush-light-purple:linear-gradient(135deg, rgb(255, 206, 236) 0%, rgb(152, 150, 240) 100%);
		// 		--wp--preset--gradient--blush-bordeaux:linear-gradient(135deg, rgb(254, 205, 165) 0%, rgb(254, 45, 45) 50%, rgb(107, 0, 62) 100%);
		// 		--wp--preset--gradient--luminous-dusk:linear-gradient(135deg, rgb(255, 203, 112) 0%, rgb(199, 81, 192) 50%, rgb(65, 88, 208) 100%);
		// 		--wp--preset--gradient--pale-ocean:linear-gradient(135deg, rgb(255, 245, 203) 0%, rgb(182, 227, 212) 50%, rgb(51, 167, 181) 100%);
		// 		--wp--preset--gradient--electric-grass:linear-gradient(135deg, rgb(202, 248, 128) 0%, rgb(113, 206, 126) 100%);
		// 		--wp--preset--gradient--midnight:linear-gradient(135deg, rgb(2, 3, 129) 0%, rgb(40, 116, 252) 100%);
		// 		--wp--preset--font-size--small:13px;
		// 		--wp--preset--font-size--medium:20px;
		// 		--wp--preset--font-size--large:36px;
		// 		--wp--preset--font-size--x-large:42px;
		// 		--wp--preset--spacing--20:0.44rem;
		// 		--wp--preset--spacing--30:0.67rem;
		// 		--wp--preset--spacing--40:1rem;
		// 		--wp--preset--spacing--50:1.5rem;
		// 		--wp--preset--spacing--60:2.25rem;
		// 		--wp--preset--spacing--70:3.38rem;
		// 		--wp--preset--spacing--80:5.06rem;
		// 		--wp--preset--shadow--natural:6px 6px 9px rgba(0, 0, 0, 0.2);
		// 		--wp--preset--shadow--deep:12px 12px 50px rgba(0, 0, 0, 0.4);
		// 		--wp--preset--shadow--sharp:6px 6px 0px rgba(0, 0, 0, 0.2);
		// 		--wp--preset--shadow--outlined:6px 6px 0px -3px rgba(255, 255, 255, 1), 6px 6px rgba(0, 0, 0, 1);
		// 		--wp--preset--shadow--crisp:6px 6px 0px rgba(0, 0, 0, 1);
		// 		margin:0;
		// 	}

		// 	:where(.is-layout-flex) {
		// 		gap:0.5em;
		// 	}

		// 	:where(.is-layout-grid) {
		// 		gap:0.5em;
		// 	}

		// 	body .is-layout-flex {
		// 		display:flex;
		// 		flex-wrap:wrap;
		// 		align-items:center;
		// 	}

		// 	body .is-layout-flex > * {
		// 		margin:0;
		// 	}

		// 	body .is-layout-grid {
		// 		display:grid;
		// 	}

		// 	body .is-layout-grid > * {
		// 		margin:0;
		// 	}

		// 	:where(.wp-block-columns.is-layout-flex) {
		// 		gap:2em;
		// 	}

		// 	:where(.wp-block-columns.is-layout-grid) {
		// 		gap:2em;
		// 	}

		// 	:where(.wp-block-post-template.is-layout-flex) {
		// 		gap:1.25em;
		// 	}

		// 	:where(.wp-block-post-template.is-layout-grid) {
		// 		gap:1.25em;
		// 	}

		// 	.wp-block-navigation a:where(:not(.wp-element-button)) {
		// 		color:inherit;
		// 	}

		// 	.woocommerce form .form-row .required {
		// 		visibility:visible;
		// 	}

		// 	span.wcmmq_prefix {
		// 		float:left;
		// 		padding:10px;
		// 		margin:0;
		// 	}

		// 	.heading_pricing h2 {
		// 		color:#73F86E !important;
		// 	}

		// 	.v-blog .brz-column__items {
		// 		padding:0 !important;
		// 		background:#ffffff;
		// 		border-radius:10px;
		// 	}

		// 	.v-blog .brz-wrapper {
		// 		padding:0 !important;
		// 		margin:0 !important;
		// 	}

		// 	.v-blog .brz-wp-title {
		// 		padding:25px 15px 0 15px;
		// 	}

		// 	.v-blog .brz-wp-title-content {
		// 		font-weight:700 !important;
		// 		font-size:20px !important;
		// 		color:#000 !important;
		// 		text-shadow:none !important;
		// 	}

		// 	.v-blog .brz-wp-post-excerpt {
		// 		padding:25px 15px 50px 15px;
		// 	}

		// 	.v-blog .brz-wrapper-clone {
		// 		display:none;
		// 	}

		// 	.v-blog .brz .brz-css-pemvv * {
		// 		text-shadow:none !important;
		// 	}

		// 	* {
		// 		box-sizing:border-box;
		// 	}

		// 	body .is-layout-flex>* {
		// 		margin:0;
		// 	}

		// 	body .is-layout-grid>* {
		// 		margin:0;
		// 	}

		// 	.gjs-grid-column {
		// 		flex:1 1 0%;
		// 		padding:5px 0;
		// 	}

		// 	.gjs-grid-row {
		// 		display:flex;
		// 		justify-content:flex-start;
		// 		align-items:stretch;
		// 		flex-direction:row;
		// 		min-height:auto;
		// 		padding:10px 0;
		// 	}

		// 	#i4dnz {
		// 		padding-left:8vw;
		// 		padding-right:8vw;
		// 		padding-bottom:0px;
		// 	}

		// 	#idmhz {
		// 		padding-bottom:0px;
		// 	}

		// 	#iwjzg {
		// 		margin-top:0px;
		// 		margin-right:0px;
		// 		margin-bottom:0px;
		// 		margin-left:0px;
		// 		padding-top:5px;
		// 		padding-right:0px;
		// 		padding-bottom:0px;
		// 		padding-left:0px;
		// 	}

		// 	.gjs-image-box {
		// 		height:200px;
		// 		width:100%;
		// 	}

		// 	#ithwj {
		// 		background-image:url("http://localhost:1313/marketingreports/assets/images/dashboards/twitter.jpg");
		// 			background-size:contain;
		// 			background-position:center center;
		// 			background-attachment:scroll;
		// 			background-repeat:no-repeat;
		// 			height:250px;
		// 			border-top-left-radius:0px;
		// 			border-top-right-radius:0px;
		// 			border-bottom-right-radius:0px;
		// 			border-bottom-left-radius:0px;
		// 			border-top-style:none;
		// 			border-right-style:none;
		// 			border-bottom-style:none;
		// 			border-left-style:none;
		// 			margin-top:0px;
		// 			margin-right:0px;
		// 			margin-bottom:0px;
		// 			margin-left:0px;
		// 			padding-top:0px;
		// 			padding-right:0px;
		// 			padding-bottom:0px;
		// 			padding-left:0px;
		// 		}

		// 		#iew0h {
		// 			padding:10px;
		// 			font-family:Arial, Helvetica, sans-serif;
		// 			font-size:40px !important;
		// 			font-weight:700 !important;
		// 			color:rgba(255, 255, 255, 1) !important;
		// 		}

		// 		#i9vm7 {
		// 			padding:10px;
		// 			color:rgba(255, 255, 255, 1) !important;
		// 			font-size:20px !important;
		// 		}

		// 		#iohlo {
		// 			padding:10px;
		// 			color:rgba(255, 255, 255, 1) !important;
		// 		}

		// 		#ihlhdw {
		// 			padding-top:0px;
		// 		}

		// 		#iqztwg {
		// 			padding-left:8vw;
		// 			padding-right:8vw;
		// 			padding-top:0px;
		// 		}

		// 		#itomw2 {
		// 			text-align:center;
		// 			color:#fff;
		// 			border-radius:9999px;
		// 			box-shadow:none;
		// 			text-decoration:none;
		// 			font-size:1.125em;
		// 			position:relative;
		// 			padding-top:12px;
		// 			padding-right:35px;
		// 			padding-bottom:12px;
		// 			padding-left:35px;
		// 			margin-top:0px;
		// 			margin-right:25%;
		// 			margin-bottom:0px;
		// 			margin-left:15%;
		// 			background-clip:border-box;
		// 			border-top-color:rgba(39, 1, 1, 1);
		// 			border-right-color:rgba(39, 1, 1, 1);
		// 			border-bottom-color:rgba(39, 1, 1, 1);
		// 			border-left-color:rgba(39, 1, 1, 1);
		// 		}

		// 		.gjs-container {
		// 			width:90%;
		// 			margin:0 auto;
		// 			max-width:1200px;
		// 		}

		// 		.gjs-section {
		// 			display:flex;
		// 			padding:50px 0;
		// 		}

		// 		#i0jie {
		// 			padding-top:20px;
		// 		}

		// 		.gjs-divider {
		// 			height:3px;
		// 			width:100%;
		// 			margin:10px;
		// 			background-color:rgba(0, 0, 0, 0.05);
		// 		}

		// 		#iuxul {
		// 			background-color:rgba(255, 255, 255, 0.05);
		// 		}

		// 		#iqiw4 {
		// 			color:rgba(255, 255, 255, 1);
		// 			font-size:35px;
		// 		}

		// 		#i1pcr {
		// 			padding:10px;
		// 		}

		// 		#i6g9m {
		// 			background-color:none;
		// 			color:rgb(192, 192, 192);
		// 			font-family:Montserrat, sans-serif;
		// 			font-size:18px;
		// 		}

		// 		#ifb4k {
		// 			margin-top:0px;
		// 			margin-bottom:15px;
		// 			font-size:18px;
		// 			line-height:28px;
		// 			color:rgb(192, 192, 192);
		// 			font-family:Montserrat, sans-serif;
		// 			background-color:none;
		// 		}

		// 		#i9oyd {
		// 			margin-top:0px;
		// 			margin-bottom:15px;
		// 			font-size:18px;
		// 			line-height:28px;
		// 			color:rgb(192, 192, 192);
		// 			font-family:Montserrat, sans-serif;
		// 			background-color:none;
		// 		}

		// 		#iwcxj {
		// 			margin-top:0px;
		// 			margin-bottom:15px;
		// 			font-size:18px;
		// 			line-height:28px;
		// 			color:rgb(192, 192, 192);
		// 			font-family:Montserrat, sans-serif;
		// 			background-color:none;
		// 		}

		// 		#igp81 {
		// 			margin-top:0px;
		// 			margin-bottom:15px;
		// 			font-size:18px;
		// 			line-height:28px;
		// 			color:rgb(192, 192, 192);
		// 			font-family:Montserrat, sans-serif;
		// 			background-color:none;
		// 		}

		// 		#iahuy {
		// 			margin-top:0px;
		// 			margin-bottom:15px;
		// 			font-size:18px;
		// 			line-height:28px;
		// 			color:rgb(192, 192, 192);
		// 			font-family:Montserrat, sans-serif;
		// 			background-color:none;
		// 		}

		// 		#iz632 {
		// 			margin-top:0px;
		// 			margin-bottom:15px;
		// 			font-size:18px;
		// 			line-height:28px;
		// 			color:rgb(192, 192, 192);
		// 			font-family:Montserrat, sans-serif;
		// 			background-color:none;
		// 		}

		// 		@media (max-width:992px) {
		// 			.gjs-grid-row {
		// 				flex-direction:column;
		// 			}
		// 		}`,

	});
	editor.runCommand('get-tailwindCss');
	const pn = editor.Panels;
	pn.addButton('options', {
		id: 'open-templates',
		className: 'fa fa-folder-o',
		attributes: {
			title: 'Open projects and templates'
		},
		command: 'open-templates', //Open modal 
	});
	pn.addButton('views', {
		id: 'open-pages',
		className: 'fa fa-file-o',
		attributes: {
			title: 'page manager'
		},
		command: 'open-pages',
		togglable: false
	});



	function Download(editor) {
		const pn = editor.Panels;
		const cmdm = editor.Commands;

		cmdm.add("download-publish", {
			run(editor, sender) {
				var currentPage = editor.Pages.getSelected();
				var htmlContent = editor.getHtml();
				var cssContent = editor.getCss();
				var fullContent = `<!DOCTYPE html>
					<html lang="en">
					<head>
						<meta charset="UTF-8">
						<meta name="viewport" content="width=device-width, initial-scale=1.0">
						<title>Exported GrapesJS Page</title>
						<lcr src="https://cdn.tailwindcss.com" defer></lcr>
						<style>${cssContent}</style>
					</head>
					<body>
						${htmlContent}
					</body>
						
					</html>`;


				fetch('http://localhost:3002/input', {
					method: 'POST',
					headers: {
						'Content-Type': 'application/json',
					},
					body: JSON.stringify({
						content: fullContent,
						fileName: currentPage.attributes.name,
					})
				}).then(response => response.json())
					.then(data => {
						alert('Create new page link.')
					})
					.catch(error => {
						console.error('Error', error)
						alert('Error occurred while saving the file.')
					});
			}
		});

		pn.addButton("options", [
			{
				id: "view-info",
				label: 'Publish',
				class: 'btn-secondary',
				command: "download-publish",
				attributes: {
					title: "Publish",
					"data-tooltip-pos": "bottom",
				},
			},
		]);

		pn.addPanel({
			id: 'page-manager',
			el: '.panel__pages',  // Create this element in your HTML to hold the page manager panel
			buttons: [
				{
					id: 'new-page',
					className: 'fa fa-plus',
					command: 'create-page',  // Command for creating a new page
					attributes: { title: 'Create New Page' },
				},
				{
					id: 'page-list',
					className: 'fa fa-list',
					command: 'show-page-list',  // Command to show the list of pages
					attributes: { title: 'Pages List' },
				},
			],
		});

		// Command to create a new page
		cmdm.add('create-page', {
			run(editor, sender) {
				const newPage = {
					id: `page-${Date.now()}`,
					name: 'New Page',
					content: '',  // Empty content initially
				};

				// Store the new page (use localStorage or a custom data store)
				const pages = editor.getCustomData('pages') || [];
				pages.push(newPage);
				editor.setCustomData('pages', pages);

				alert('New page created!');
			},
		});

		// Command to show the page list and allow switching between pages
		cmdm.add('show-page-list', {
			run(editor, sender) {
				const pages = editor.getCustomData('pages', []);
				const pageListHTML = pages
					.map((page) => `<li><a href="#" data-page-id="${page.id}">${page.name}</a></li>`)
					.join('');

				// Create a simple page list modal
				const pageListModal = document.createElement('div');
				pageListModal.classList.add('page-list-modal');
				pageListModal.innerHTML = `<ul>${pageListHTML}</ul>`;

				document.body.appendChild(pageListModal);

				// Add event listeners to switch between pages
				pageListModal.querySelectorAll('a').forEach((link) => {
					link.addEventListener('click', (e) => {
						const pageId = e.target.getAttribute('data-page-id');
						switchToPage(pageId);
					});
				});
			},
		});

		editor.PagesApp.removePage = function (e) {
			const userConfirmed = window.confirm('Are you sure you want to delete this page?');

			if (userConfirmed) {
				page_key = e.currentTarget.dataset.key;
				const currentPage = editor.Pages.get(page_key);
				remove_pagename = currentPage.get('name');

				console.log(currentPage.get('name'));
				editor.Pages.remove(e.currentTarget.dataset.key);

				fetch('http://localhost:3002/input', {
					method: 'DELETE',
					headers: {
						'Content-Type': 'application/json',
					},
					body: JSON.stringify({
						folderName: remove_pagename,
					})
				}).then(response => response.json())
					.then(error => {
						alert('Remove page.')
					})
					.catch(error => {
						console.error('Error', error)
						alert('Error occurred while saving the file.')
					});
			}
		}







	}


</script>

{{end}}